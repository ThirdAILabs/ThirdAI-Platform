## Get Model Permissions

**Description**: Fetch permissions for a specific model, including read, write, and owner permissions.

**Dependencies**:
- **verify_access_token_no_throw**: Validates user authentication without raising exceptions if token verification fails.

**Sample Request**:
GET /permissions/model_123

**Sample Responses**:

- `200 OK`: Successfully fetched model permissions.
{
    "status_code": 200,
    "message": "Successfully fetched user permissions for model with ID model_123",
    "data": {
        "read": true,
        "write": false,
        "exp": "2024-10-18T17:00:00Z",
        "override": true
    }
}

---

## Run Deployment

**Description**: Deploy a specified model, starting the deployment process.

**Dependencies**:
- **is_model_owner**: Ensures the user owns the model before allowing deployment.

**Sample Request**:
POST /run
{
    "model_identifier": "user/model_123",
    "memory": 2048,
    "autoscaling_enabled": true,
    "autoscaler_max_count": 5,
    "genai_key": "your_genai_key"
}

**Sample Responses**:

- `202 Accepted`: Deployment is in progress.
{
    "status_code": 202,
    "message": "Deployment is in-progress",
    "data": {
        "status": "queued",
        "model_identifier": "user/model_123",
        "model_id": "model_id_123"
    }
}

---

## Get Feedbacks

**Description**: Retrieve recent feedback for a specific model.

**Dependencies**:
- **is_model_owner**: Ensures only the model owner can access feedback.

**Sample Request**:
GET /feedbacks?model_identifier=user/model_123&per_event_count=5

**Sample Responses**:

- `200 OK`: Successfully retrieved feedbacks.
{
    "status_code": 200,
    "message": "Successfully retrieved the feedbacks",
    "data": {
        "upvote": [
            {
                "query": "Sample query",
                "reference_text": "Sample result upvoted",
                "reference_id": 15,
                "timestamp": "2024-10-17T17:54:11"
            }
        ],
        "associate": [
            {
                "source": "Sample source text",
                "target": "Sample target text",
                "timestamp": "2024-10-18T17:49:43"
            }
        ]
    }
}

---

## Deployment Status

**Description**: Get the status of a model deployment.

**Dependencies**:
- **verify_model_read_access**: Validates if the user has access to read the model's deployment status.

**Sample Request**:
GET /status?model_identifier=user/model_123

**Sample Responses**:

- `200 OK`: Successfully retrieved deployment status.
{
    "status_code": 200,
    "message": "Successfully got the deployment status",
    "data": {
        "deploy_status": "in_progress",
        "messages": ["Model is being deployed."],
        "model_id": "model_id_123"
    }
}

---

## Stop Deployment

**Description**: Stop a running deployment for a model.

**Dependencies**:
- **is_model_owner**: Ensures only the model owner can stop the deployment.

**Sample Request**:
POST /stop
{
    "model_identifier": "user/model_123"
}

**Sample Responses**:

- `202 Accepted`: Service is shutting down.
{
    "status_code": 202,
    "message": "Service is shutting down",
    "data": {
        "status": "queued",
        "model_id": "model_id_123"
    }
}

- `400 Bad Request`: Model is used by other active workflows.
{
    "status_code": 400,
    "message": "Unable to stop deployment for model user/model_123 since it is used by other active workflows."
}

---

## Get Deployment Logs

**Description**: Retrieve logs for a model deployment.

**Dependencies**:
- **verify_model_read_access**: Ensures the user has access to view the model's logs.

**Sample Request**:
GET /logs?model_identifier=user/model_123

**Sample Responses**:

- `200 OK`: Successfully retrieved logs.
{
    "status_code": 200,
    "message": "Successfully got the deployment logs.",
    "data": ["Log entry 1", "Log entry 2"]
}
